use common::block::header::BlockHeaderShanghai;

#[test]
pub fn test_rlp() {
    let rlp_hex ="f90475b842307834356164623638346362353435383031396334393632303663313338333839346333363066653936396131303238626134343935356561646661353835636335b842307831646363346465386465633735643761616238356235363762366363643431616433313234353162393438613734313366306131343266643430643439333437aa307862363336613638663833346234643735616639656463356662303133386262343735386564323933b842307831646232333838393233663763373836383062346134366261653732353633373031336437346164373837656335633836316433616465336466383832643831b842307839333538366562356632373831646564333334613261303364313738663431646330366632373164376631666634323965346461366566343264313261373733b842307833363135393037373566656137383537636330343862393332346330336539366632383731393938303363653134343066663165313263356336303038303439b902023078303432303030306132303033303830303030323532303130303561333034303030303839363238303034303231383564633630303134343238303034303038323232313430303031303130313230303435383030326230643838303038303238303034323036383038343038343030343032313038663038313232343632303032343061323034333635313030313039303531633038326130323030383132303432303030303130363034343030393030343430343434343831303030383231303030323830303130363036343063303131343031613830323030303039303333313030303430383234333830343030393430323230313234303830323038323832303430333830313134313035306134613030323038323833323032303530303030663130303538383934303038303030343131303530353132383030323230613230303030303034323237353830303238303839343038303030303230323436303034303033303030303430383030316365303032383234303030303030303261386332343231303030303230303031346133303034303031353032306230343830303032303630383830303030303835303434303234306330363130303031313030323030303030303230303938383030313830303030303838303132386130353034303033323930383163313434303830613034303830303030303480839eb0f68401c9c380836f9a8e8465aa8780b84030783439366336633735366436393665363137343635323034343664366636333732363137343639376136353230343437333734373236393632373537343635b842307863363533653163316365653939303134376634343339373736636333656164366631373565303831393938633333633933646134313635333131326538396365923078303030303030303030303030303030300db842307833396462336639643166653037353665356165663465326630323431616439353765393939653439633938313830396330313834323564303038306636636432".to_string();
    //   TODO: we need to figure out with alloy rlp encoding / decoding
    //let hex2 = "f9023ca045adb684cb5458019c496206c1383894c360fe969a1028ba44955eadfa585cc5a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794b636a68f834b4d75af9edc5fb0138bb4758ed293a01db2388923f7c78680b4a46bae725637013d74ad787ec5c861d3ade3df882d81a093586eb5f2781ded334a2a03d178f41dc06f271d7f1ff429e4da6ef42d12a773a0361590775fea7857cc048b9324c03e96f287199803ce1440ff1e12c5c6008049b901000420000a200308000025201005a30400008962800402185dc600144280040082221400010101200458002b0d88008028004206808408400402108f0812246200240a204365100109051c082a020081204200001060440090044044448100082100028001060640c011401a802000090331000408243804009402201240802082820403801141050a4a00208283202050000f10058894008000411050512800220a200000042275800280894080000202460040030000408001ce00282400000002a8c24210000200014a30040015020b04800020608800000850440240c06100011002000000200988001800000880128a050400329081c144080a040800000480839eb0f68401c9c380836f9a8e8465aa87809f496c6c756d696e61746520446d6f63726174697a6520447374726962757465a0c653e1c1cee990147f4439776cc3ead6f175e081998c33c93da41653112e89ce8800000000000000000da039db3f9d1fe0756e5aef4e2f0241ad957e999e49c981809c018425d0080f6cd2".to_string();
    let header_from_rlp = BlockHeaderShanghai::from_rlp_hexstring(&rlp_hex);
    let expected_header = BlockHeaderShanghai {
        parent_hash: "0x45adb684cb5458019c496206c1383894c360fe969a1028ba44955eadfa585cc5"
            .to_string(),
        uncle_hash: "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"
            .to_string(),
        coinbase: "0xb636a68f834b4d75af9edc5fb0138bb4758ed293".to_string(),
        state_root: "0x1db2388923f7c78680b4a46bae725637013d74ad787ec5c861d3ade3df882d81"
            .to_string(),
        transactions_root: "0x93586eb5f2781ded334a2a03d178f41dc06f271d7f1ff429e4da6ef42d12a773"
            .to_string(),
        receipts_root: "0x361590775fea7857cc048b9324c03e96f287199803ce1440ff1e12c5c6008049"
            .to_string(),
        logs_bloom: "0x0420000a200308000025201005a30400008962800402185dc600144280040082221400010101200458002b0d88008028004206808408400402108f0812246200240a204365100109051c082a020081204200001060440090044044448100082100028001060640c011401a802000090331000408243804009402201240802082820403801141050a4a00208283202050000f10058894008000411050512800220a200000042275800280894080000202460040030000408001ce00282400000002a8c24210000200014a30040015020b04800020608800000850440240c06100011002000000200988001800000880128a050400329081c144080a0408000004".to_string(),
        difficulty: 0,
        number: 10399990,
        gas_limit: 30000000,
        gas_used: 7314062,
        timestamp: 1705674624,
        extra_data: "0x496c6c756d696e61746520446d6f63726174697a6520447374726962757465".to_string(),
        mix_hash: "0xc653e1c1cee990147f4439776cc3ead6f175e081998c33c93da41653112e89ce".to_string(),
        nonce: "0x0000000000000000".to_string(),
        base_fee_per_gas: Some(13),
        withdrawals_root: Some("0x39db3f9d1fe0756e5aef4e2f0241ad957e999e49c981809c018425d0080f6cd2".to_string()),
    };
    //  let header2 = BlockHeaderShanghai::from_rlp_hexstring(&hex2);
    assert_eq!(header_from_rlp, expected_header);
}
